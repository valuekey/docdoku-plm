<div layout-fill layout="column">
    <md-toolbar md-scroll-shrink>
        <div class="md-toolbar-tools" layout="row" layout-align="start center">
            <div>
                <md-button class="md-icon-button" hide-gt-sm aria-label="{{'MENU' | translate}}" ng-click="openMenu()">
                    <i class="fa fa-bars"></i>
                </md-button>
            </div>
            <div>
                <md-menu>
                    <md-button aria-label="{{'MENU'}}" class="md-icon-button" ng-click="$mdOpenMenu($event)">
                        <i class="fa fa-bars"></i>
                    </md-button>

                    <md-menu-content width="4">
                        <md-menu-item>
                            <md-button aria-label="{{'OPEN_IN_EXPLORER'|translate}}" ng-click="reveal()">
                                {{'OPEN_IN_EXPLORER'|translate}}
                            </md-button>
                        </md-menu-item>

                        <md-menu-item>
                            <md-button aria-label="{{'FAVORITE'|translate}}" ng-click="toggleFavorite()">
                                {{'FAVORITE'|translate}}
                            </md-button>
                        </md-menu-item>

                        <md-menu-item>
                            <md-button aria-label="{{'REFRESH_FOLDER'|translate}}" ng-click="refresh(true)">
                                {{'REFRESH_FOLDER'|translate}}
                            </md-button>
                        </md-menu-item>

                        <md-menu-item>
                            <md-button aria-label="{{'DELETE_FOLDER'|translate}}" ng-click="delete($event)">
                                {{'DELETE_FOLDER'|translate}}
                            </md-button>
                        </md-menu-item>

                    </md-menu-content>
                </md-menu>
            </div>
            <div>
                <h2>
                    <span>
                        <i class="fa fa-folder-open"></i>
                        <i class="fa fa-star favorite" ng-if="folder.favorite"></i>
                        {{ folder.path | fileshortname }} ({{totalFilesInFolder}} {{'FILES'|translate}})
                    </span>
                </h2>
            </div>
        </div>
    </md-toolbar>
    <md-content>

        <div layout="row" layout-align="space-between start" layout-padding>

            <div class="md-inline-form">
                <md-input-container>
                    <label>{{'SEARCH'|translate}}</label>
                    <input type="text" ng-change="search(pattern)" ng-model="pattern" />
                </md-input-container>
            </div>

            <div>
                <md-table-pagination
                        md-boundary-links="true"
                        md-limit="query.limit"
                        md-limit-options="query.limits"
                        md-page="query.page"
                        md-total="{{filteredFilesCount}}"
                        md-on-paginate="paginate"
                        md-page-select>
                </md-table-pagination>
            </div>
        </div>

        <div>
            <md-table-container>
                <table md-table md-row-select multiple ng-model="selected">
                    <thead md-head>
                        <tr md-row>
                            <th md-column><span>{{'NAME'|translate}}</span></th>
                            <th md-column><span></span></th>
                        </tr>
                    </thead>
                    <tbody md-body>
                        <tr md-row md-select="file" md-select-id="path" ng-repeat="file in displayedFiles">
                            <td md-cell>{{file.path | fileshortname}}</td>
                            <td md-cell>{{file.index}}</td>
                        </tr>
                    </tbody>
                </table>
            </md-table-container>

        </div>
    </md-content>
</div>